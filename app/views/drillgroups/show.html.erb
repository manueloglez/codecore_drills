<h2>Drill Group: <%= @drillgroup.title %> </h2>

<div class="mt-3">
  <h5> <%= @drillgroup.description %> </h5>
  <% @drillgroup.drills.each do |drill| %>
    <div class="card mb-2">
      <div class="card-body d-flex justify-content-between align-items-center"> 
        <%= drill.description %>
        <div>
          <%= link_to(
            'Edit', 
            edit_drill_path(drill), 
            class: 'btn btn-outline-warning'
            ) %> 
          <%= link_to(
            'Delete', 
            drill_path(drill), 
            method: :delete,
            class: 'btn btn-outline-danger'
            ) %> 
        </div>
        </div>
    </div>
  <% end %>
</div>

<h5 class="mt-5">Add New Drill</h5>
<div class="card p-4">
  <%= form_for(@drill) do |form| %>
  <% if @drill.errors.present? %>
      <p>
        <%= @drill.errors.full_messages.join(", ") %>
      </p>
    <% end %>
    <div>
      <%= form.label(:description, "Drill Description", class: 'form-label') %>
      <%= form.text_area :description, class: 'form-control' %>
    </div>
    <%= form.hidden_field :drillgroup_id, value: @drillgroup.id %>

    <div id="answers">
      <div id="answer">
        <%= form.fields_for :answers do |answer|%>
        <div id="fieldsetContainer">
          <fieldset id="0">
            <%= answer.label(:description, "Answer", class: 'form-label') %>
            <%= answer.text_field :description, class: 'form-control' %>
          </fieldset>
        </div>
        <% end %>
      </div>
    </div>
    <%= form.submit "Save Drill", class: "btn btn-primary mt-3 float-right" %>
    <% end %>
    <button id=addAnswer class="btn btn-primary w-25">Add another answer</button>
</div>